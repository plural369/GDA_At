
@model ReflectionIT.Mvc.Paging.PagingList<GERENCIADOR_TESTE_TEMPLANTE.Models.FileOnDatabaseModel>
@{
    ViewData["Title"] = "Index";
}

<div class="row">
    <div class="col-md-8 offset-md-2">
        <form method="get" class="form-inline">
            <div class="input-group input-group-lg">
                <input type="search" name="filter" class="form-control form-control-lg" placeholder="Busca por Autor"
                       value="@Model.RouteValue["Filter"]" />
                <div class="input-group-append">
                    <button type="submit" class="btn btn-lg btn-default">
                        <span class="fa fa-search" aria-hidden="true"></span> Procurar
                    </button>
                </div>

            </div>
        </form>
    </div>
</div>

<hr />
<div class="card card-primary">
    <div class="card-header">
        <h3 class="card-title">Lista de Arquivos Academicos</h3>
    </div>
</div>

    Total de Arquivos : @Model.TotalRecordCount
    <div>
        <vc:pager paging-list="@Model"></vc:pager>
    </div>
    <table id="example2" class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>@Html.DisplayNameFor(model => model.Id)</th>
                <th>@Html.SortableHeaderFor(model => model.Autor, "Autor")</th>
                <th>@Html.DisplayNameFor(model => model.Titulo)</th>
                <th>@Html.DisplayNameFor(model => model.Cidade)</th>
                <th>@Html.DisplayNameFor(model => model.PalavraChave)</th>
                <th>@Html.DisplayNameFor(model => model.AnoPubli)</th>
                <th>@Html.DisplayNameFor(model => model.NomeArquivo)</th>
                <th>Orientador</th>
                <th>Categoria</th>
                <th>TipoTrabalho.Nome</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@Html.DisplayFor(modelItem => item.Id)</td>
                    <td>@Html.DisplayFor(modelItem => item.Autor)</td>
                    <td>@Html.DisplayFor(modelItem => item.Titulo) </td>
                    <td>@Html.DisplayFor(modelItem => item.Cidade)</td>
                    <td>@Html.DisplayFor(modelItem => item.PalavraChave)</td>
                    <td>@Html.DisplayFor(modelItem => item.AnoPubli)</td>
                    <td>@Html.DisplayFor(modelItem => item.NomeArquivo)</td>
                    <td>@Html.DisplayFor(modelItem => item.professor.Nome)</td>
                    <td>@Html.DisplayFor(modelItem => item.categoria.Nome)</td>
                    <td>@Html.DisplayFor(modelItem => item.TipoTrabalho.Nome)</td>
                    <td>
                        <a type="button" class="btn btn-primary" asp-controller="File" asp-action="Download" asp-route-id="@item.Id">Download</a>
                        <a type="button" target="_blank" class="btn btn-info" asp-controller="File" asp-action="Detalhes" asp-route-id="@item.Id">Detalhes</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>